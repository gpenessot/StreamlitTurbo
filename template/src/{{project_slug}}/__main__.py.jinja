"""
Point d'entrée principal de l'application {{ project_name }}.
"""

import streamlit as st
from .components.sidebar import render_sidebar


def configure_page():
    """Configure la page principale de l'application."""
    st.set_page_config(
        page_title="{{ project_name }}",
        page_icon="🚀",
        layout="wide",
        initial_sidebar_state="expanded",
        menu_items={
            'About': """
            # {{ project_name }}
            {{ project_description }}
            
            Développé par {{ author_name }}
            """
        }
    )


def main():
    """Point d'entrée principal de l'application."""
    configure_page()
    
    # Titre principal
    st.title("🚀 {{ project_name }}")
    st.markdown("*{{ project_description }}*")
    
    # Sidebar
    render_sidebar()
    
    # Contenu principal
    col1, col2, col3 = st.columns([1, 2, 1])
    
    with col2:
        st.markdown("---")
        
        # Message de bienvenue
        st.markdown("""
        ## 👋 Bienvenue !
        
        Cette application démo vous montre les bonnes pratiques pour structurer 
        vos projets Streamlit de façon professionnelle.
        
        ### 🎯 Fonctionnalités de ce template :
        - ✅ Structure modulaire et organisée
        - ✅ Pages multiples avec navigation
        - ✅ Composants réutilisables
        - ✅ Configuration optimisée
        {% if use_sample_data %}- ✅ Données d'exemple intégrées{% endif %}
        
        ### 🧭 Navigation
        Utilisez la **sidebar** à gauche pour naviguer entre les différentes pages.
        """)
        
        # Call-to-action subtil pour la formation
        with st.expander("🎓 Envie d'aller plus loin ?"):
            st.markdown("""
            Ce template démo vous donne un aperçu des possibilités.
            
            **Dans notre formation complète, vous apprendrez :**
            - Tests automatisés et CI/CD
            - Déploiement en production
            - Gestion avancée des états
            - Authentification utilisateur
            - Intégration base de données
            - Monitoring et analytics
            
            👉 [**Découvrir la formation**](https://votre-lien-formation.com)
            """)
    
    # Footer
    st.markdown("---")
    st.markdown(
        f"<div style='text-align: center; color: gray;'>"
        f"Développé avec ❤️ par {{ author_name }} | "
        f"<a href='mailto:{{ author_email }}'>Contact</a>"
        f"</div>", 
        unsafe_allow_html=True
    )


if __name__ == "__main__":
    main()